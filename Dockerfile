FROM golang:1.22

WORKDIR /app

COPY . .

RUN go mod download
RUN go build -o main

EXPOSE 8080

ARG DWELT_JWT_KEY
ENV DWELT_JWT_KEY=$DWELT_JWT_KEY
ARG DWELT_WORKFLOW_RUN_NUMBER
ENV DWELT_WORKFLOW_RUN_NUMBER=$DWELT_WORKFLOW_RUN_NUMBER


CMD ./main
